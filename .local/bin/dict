#!/bin/sh
LANG="en_US"

if [ $# -eq 0 ]
then
    echo "No argument is given"
    exit 1
fi

word=""
gFlag=""
for arg in $@
do
    if [ "$arg" = "-g" ]
    then
        gFlag="-google"
    else
        word="$arg"
    fi
done

if [ -n "$gFlag" ]
then
    curl --silent "https://api.dictionaryapi.dev/api/v2/entries/$LANG/$word" \
        | parse_dict -google
else
    sdcv --non-interactive --utf8-output --color --json-output "$word" \
        | parse_dict
fi
