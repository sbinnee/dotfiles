#!/bin/sh
# Use pipewire
# Volume up using $mod+F2

sink="$(pactl list short sinks | awk 'END {print $1}')"
val="$(pactl list sinks | grep -A 10 "Sink #$sink" | grep -oP '\d+%' | awk 'NR==1 {print $1}')"
# echo $val
# #--- amixer (ALSA) ---# #
if [ "${val%*%}" -le 20 ]; then
    pactl set-sink-volume "$sink" "-2%"
else
    pactl set-sink-volume "$sink" "-5%"
fi
# #--- pulseaudio ---# #
# pactl set-sink-volume 0 +5%
val="$(pactl list sinks | grep -A 10 "Sink #$sink" | grep -oP '\d+%' | awk 'NR==1 {print $1}')"
dunstify -u low -t 700 -h string:x-dunst-stack-tag:volume "ðŸ”‰ $val" &
